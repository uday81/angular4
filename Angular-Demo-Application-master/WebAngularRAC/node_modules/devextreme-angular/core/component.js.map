{"version":3,"file":"component.js","sourceRoot":"","sources":["component.ts"],"names":[],"mappings":"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","sourcesContent":["/*!\n * devextreme-angular\n * Version: 17.1.3\n * Build date: Thu May 18 2017\n *\n * Copyright (c) 2012 - 2017 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-angular\n */\n\nimport {\r\n    ElementRef,\r\n    NgZone,\r\n    QueryList\r\n} from '@angular/core';\r\n\r\nimport { DxTemplateDirective } from './template';\r\nimport { DxTemplateHost } from './template-host';\r\nimport { EmitterHelper } from './events-strategy';\r\nimport { WatcherHelper } from './watcher-helper';\r\nimport {\r\n    INestedOptionContainer,\r\n    ICollectionNestedOption,\r\n    ICollectionNestedOptionContainer,\r\n    CollectionNestedOptionContainerImpl\r\n} from './nested-option';\r\n\r\nexport abstract class DxComponent implements INestedOptionContainer, ICollectionNestedOptionContainer {\r\n    private _initialOptions: any;\r\n    private _collectionContainerImpl: ICollectionNestedOptionContainer;\r\n    eventHelper: EmitterHelper;\r\n    templates: DxTemplateDirective[];\r\n    instance: any;\r\n    changedOptions = {};\r\n\r\n    protected _events: { subscribe?: string, emit: string }[];\r\n\r\n    private _initTemplates() {\r\n        if (this.templates.length) {\r\n            let initialTemplates = {};\r\n            this.templates.forEach(template => {\r\n                initialTemplates[template.name] = template;\r\n            });\r\n            this._initialOptions.integrationOptions.templates = initialTemplates;\r\n        }\r\n    }\r\n    private _initOptions() {\r\n        this._initialOptions.eventsStrategy = this.eventHelper.strategy;\r\n        this._initialOptions.integrationOptions.watchMethod = this.watcherHelper.getWatchMethod();\r\n    }\r\n    protected _createEventEmitters(events) {\r\n        events.forEach(event => {\r\n            this.eventHelper.createEmitter(event.emit, event.subscribe);\r\n        });\r\n    }\r\n    private _initEvents() {\r\n        this.instance.on('optionChanged', e => {\r\n            this.changedOptions[e.name] = e.value;\r\n            this.eventHelper.fireNgEvent(e.name + 'Change', [e.value]);\r\n        });\r\n    }\r\n    _shouldOptionChange(name: string, value: any) {\r\n        if (this.changedOptions.hasOwnProperty(name)) {\r\n            const prevValue = this.changedOptions[name];\r\n            delete this.changedOptions[name];\r\n\r\n            return value !== prevValue;\r\n        }\r\n        return true;\r\n    }\r\n    protected _getOption(name: string) {\r\n        if (this.instance) {\r\n            return this.instance.option(name);\r\n        } else {\r\n            return this._initialOptions[name];\r\n        }\r\n    }\r\n    protected _setOption(name: string, value: any) {\r\n        if (this.instance) {\r\n            this._updateOption(name, value);\r\n        } else {\r\n            this._initialOptions[name] = value;\r\n        }\r\n    }\r\n    protected _updateOption(name: string, value: any) {\r\n        if (this._shouldOptionChange(name, value)) {\r\n            this.instance.option(name, value);\r\n        };\r\n    }\r\n    protected abstract _createInstance(element, options)\r\n    protected _createWidget(element: any) {\r\n        this._initTemplates();\r\n        this._initOptions();\r\n        this.instance = this._createInstance(element, this._initialOptions);\r\n        this._initEvents();\r\n    }\r\n    protected _destroyWidget() {\r\n        if (this.instance) {\r\n            let element = this.instance.element();\r\n            element.triggerHandler({ type: 'dxremove', _angularIntegration: true });\r\n            element.remove();\r\n        }\r\n    }\r\n    constructor(protected element: ElementRef, ngZone: NgZone, templateHost: DxTemplateHost, private watcherHelper: WatcherHelper) {\r\n        this._initialOptions = { integrationOptions: {} };\r\n        this.templates = [];\r\n        templateHost.setHost(this);\r\n        this._collectionContainerImpl = new CollectionNestedOptionContainerImpl(this._setOption.bind(this));\r\n        this.eventHelper = new EmitterHelper(ngZone, this);\r\n    }\r\n    setTemplate(template: DxTemplateDirective) {\r\n        this.templates.push(template);\r\n    }\r\n    setChildren<T extends ICollectionNestedOption>(propertyName: string, items: QueryList<T>) {\r\n        return this._collectionContainerImpl.setChildren(propertyName, items);\r\n    }\r\n}\r\n\r\nexport abstract class DxComponentExtension extends DxComponent {\r\n    createInstance(element: any) {\r\n        this._createWidget(element);\r\n    }\r\n}\r\n\r\n\r\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}